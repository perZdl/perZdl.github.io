<!DOCTYPE html>
<html>
<head>
	<title>test for vue</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
</head>
<body>
<div id="cnt">
	<div>><img
    v-finger:pinch="pinch"
    v-finger:pressMove="pressMove"
     src="http://alloyteam.github.io/AlloyFinger/asset/test.png" ref="img"></div>
</div>
<script type="text/javascript" src="./vue.min.js"></script>
<script type="text/javascript" src="./alloy_finger.js"></script>
<script type="text/javascript" src="./alloy_finger.vue.js"></script>
<script type="text/javascript" src="./transform.vue.js"></script>
<script type="text/javascript" src="./transform.js"></script>
<script type="text/javascript">
	Vue.use(AlloyFingerVue);
  var data = {
    ok: true
  };
  Vue.use(Transform);

	var h = new Vue({
		el: '#cnt',
    data: data,
		methods: {
			// tap: function() { console.log('onTap'); },
   //    multipointStart: function() { console.log('onMultipointStart'); },
   //    longTap: function() { console.log('onLongTap'); },
   //    swipe: function(evt) {
   //      console.log("swipe" + evt.direction);
   //      console.log('onSwipe');
   //    },
      pinch: function(evt) { 
        let img = this.$refs.img;

        img.scaleX = img.scaleY = this.initScale * evt.zoom;
        console.log(evt.scale);
        console.log(evt.zoom);

        console.log('onPinch');
        console.log(evt); 
      },
      // rotate: function(evt) {
      //   // console.log(evt.angle);
      //   // console.log('onRotate'); 
      // },
      pressMove: function(num, evt) {
        console.log(evt.deltaX);
        console.log(evt.deltaY);
        console.log('onPressMove with params:' + num); 
      },
      multipointStart: function () {
          let img = this.$refs.img; // 图片的对象
          this.initScale = img.scaleX;
      },

    rotate:function(evt){
       let img = this.$refs.img; // 图片的对象
        img.rotateZ += evt.angle;
    },
      // multipointEnd: function() { console.log('onMultipointEnd'); },
      // doubleTap: function() { console.log('onDoubleTap'); },
      // singleTap: function () { console.log('onSingleTap'); },

      // touchStart: function() { console.log('onTouchStart'); },
      // touchMove: function() { console.log('onTouchMove'); },
      // touchEnd: function() { console.log('onTouchEnd'); },
      // touchCancel: function() { console.log('onTouchCancel'); }
		}
	});
</script>
</body>
</html>